<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="KonkaMobileSailData">

    <typeAlias alias="konkaMobileSailData" type="com.ebiz.mmt.domain.KonkaMobileSailData" />

	
	
    <resultMap id="konkaMobileSailDataResult" class="konkaMobileSailData">
		<result property="id" column="ID" jdbcType="DECIMAL" />
		<result property="pct_code" column="pct_code" jdbcType="VARCHAR" />
		<result property="channel_a_id" column="CHANNEL_A_ID" jdbcType="DECIMAL" />
		<result property="channel_a_name" column="CHANNEL_A_NAME" jdbcType="VARCHAR" />
		<result property="channel_b_id" column="CHANNEL_B_ID" jdbcType="DECIMAL" />
		<result property="channel_b_name" column="CHANNEL_B_NAME" jdbcType="VARCHAR" />
		<result property="org_id" column="ORG_ID" jdbcType="DECIMAL" />
		<result property="org_name" column="ORG_NAME" jdbcType="VARCHAR" />
		<result property="dept_id" column="DEPT_ID" jdbcType="DECIMAL" />
		<result property="dept_name" column="DEPT_NAME" jdbcType="VARCHAR" />
		<result property="subcomp_id" column="SUBCOMP_ID" jdbcType="DECIMAL" />
		<result property="subcomp_name" column="SUBCOMP_NAME" jdbcType="VARCHAR" />
		<result property="office_id" column="OFFICE_ID" jdbcType="DECIMAL" />
		<result property="office_name" column="OFFICE_NAME" jdbcType="VARCHAR" />
		<result property="measure_id" column="MEASURE_ID" jdbcType="DECIMAL" />
		<result property="measure_name" column="MEASURE_NAME" jdbcType="VARCHAR" />
		<result property="prototype_id" column="PROTOTYPE_ID" jdbcType="DECIMAL" />
		<result property="prototype_name" column="PROTOTYPE_NAME" jdbcType="VARCHAR" />
		<result property="category_id" column="CATEGORY_ID" jdbcType="DECIMAL" />
		<result property="category_name" column="CATEGORY_NAME" jdbcType="VARCHAR" />
		<result property="model_id" column="MODEL_ID" jdbcType="DECIMAL" />
		<result property="model_name" column="MODEL_NAME" jdbcType="VARCHAR" />
		<result property="all_price" column="ALL_PRICE" jdbcType="DECIMAL" />
		<result property="single_price" column="SINGLE_PRICE" jdbcType="DECIMAL" />
		<result property="num" column="NUM" jdbcType="DECIMAL" />
		<result property="report_id" column="REPORT_ID" jdbcType="DECIMAL" />
		<result property="report_name" column="REPORT_NAME" jdbcType="VARCHAR" />
		<result property="report_date" column="REPORT_DATE" jdbcType="DATETIME" />
		<result property="realname" column="REALNAME" jdbcType="VARCHAR" />
		<result property="phonenum" column="PHONENUM" jdbcType="VARCHAR" />
		<result property="addresss" column="ADDRESSS" jdbcType="VARCHAR" />
		<result property="mastercode" column="MASTERCODE" jdbcType="VARCHAR" />
		<result property="status" column="STATUS" jdbcType="DECIMAL" />
		<result property="memo" column="MEMO" jdbcType="VARCHAR" />
		<result property="sale_date" column="SALE_DATE" jdbcType="DATETIME" />
		<result property="deduct" column="DEDUCT" jdbcType="DECIMAL" />
		<result property="rule_id" column="RULE_ID" jdbcType="DECIMAL" />
		<result property="data_source" column="DATA_SOURCE" jdbcType="DECIMAL" />
		<result property="is_del" column="IS_DEL" jdbcType="DECIMAL" />
		<result property="r_sn" column="R_SN" jdbcType="VARCHAR" />
    </resultMap>
    
    <resultMap id="konkaMobileSailDataResultForPriceRef" class="konkaMobileSailData" extends="konkaMobileSailDataResult">
    	<result column="PRICE_REF" property="map.price_ref" jdbcType="DECIMAL" />
    </resultMap>

	<sql id="sf-konkaMobileSailData">
		<isNotEmpty prepend=" and " property="id">a.ID = #id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="pct_code">a.PCT_CODE = #pct_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="channel_a_id">a.CHANNEL_A_ID = #channel_a_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="channel_a_name">a.CHANNEL_A_NAME = #channel_a_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="channel_b_id">a.CHANNEL_B_ID = #channel_b_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="channel_b_name">a.CHANNEL_B_NAME = #channel_b_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="org_id">a.ORG_ID = #org_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="org_name">a.ORG_NAME = #org_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="dept_id">a.DEPT_ID = #dept_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="dept_name">a.DEPT_NAME = #dept_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="subcomp_id">a.SUBCOMP_ID = #subcomp_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="subcomp_name">a.SUBCOMP_NAME = #subcomp_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="office_id">a.OFFICE_ID = #office_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="office_name">a.OFFICE_NAME = #office_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="measure_id">a.MEASURE_ID = #measure_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="measure_name">a.MEASURE_NAME = #measure_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="prototype_id">a.PROTOTYPE_ID = #prototype_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="prototype_name">a.PROTOTYPE_NAME = #prototype_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="category_id">a.CATEGORY_ID = #category_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="category_name">a.CATEGORY_NAME = #category_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="model_id">a.MODEL_ID = #model_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="model_name">a.MODEL_NAME = #model_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="all_price">a.ALL_PRICE = #all_price:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="single_price">a.SINGLE_PRICE = #single_price:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="num">a.NUM = #num:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="report_id">a.REPORT_ID = #report_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="report_name">a.REPORT_NAME = #report_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="report_date">a.REPORT_DATE = #report_date:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="realname">REALNAME = #realname:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="phonenum">PHONENUM = #phonenum:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="addresss">ADDRESSS = #addresss:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="mastercode">MASTERCODE = #mastercode:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="status">STATUS = #status:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="memo">a.MEMO = #memo:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="sale_date">a.SALE_DATE = #sale_date:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="deduct">a.DEDUCT = #deduct:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="rule_id">a.RULE_ID = #rule_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="data_source">a.DATA_SOURCE = #data_source:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="is_del">a.IS_DEL = #is_del:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r_sn">R_SN = #r_sn:VARCHAR#</isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.cust_id"><![CDATA[ 
			a.dept_id in (select t.store_id
                     from KONKA_R3_STORE t
                     left join konka_r3_shop t1
                       on t1.r3_code = t.r3_code
                    where t1.id = #map.cust_id:DECIMAL#)
		]]></isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.dept_id_start"><![CDATA[ 
			a.DEPT_ID in (select store_id from konka_r3_shop_dept2store where dept_id in (
				select dept_id from konka_dept start with dept_id=#map.dept_id_start# 
				connect by prior dept_id = par_id )
			)
		]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.report_date_begin"><![CDATA[ a.REPORT_DATE >= #map.report_date_begin# ]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.report_date_end"><![CDATA[ a.REPORT_DATE <= #map.report_date_end# ]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.channel_a_name_like">a.channel_a_name like '%'|| #map.channel_a_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.subcomp_name_like">a.subcomp_name like '%'|| #map.subcomp_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.office_name_like">a.office_name like '%'|| #map.office_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.category_name_like">a.category_name like '%'|| #map.category_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.model_name_like">a.model_name like '%'|| #map.model_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.report_name_like">a.report_name like '%'|| #map.report_name_like# ||'%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.num_price_not_null"><![CDATA[ (a.num <> 0 or a.all_price <> 0) ]]></isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.date_begin">
		<![CDATA[a.REPORT_DATE >= to_date(#map.date_begin#,'yyyy-MM-dd hh24:mi:ss')]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.date_end">
		<![CDATA[a.REPORT_DATE <= to_date(#map.date_end#,'yyyy-MM-dd hh24:mi:ss')]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.startime">
		<![CDATA[a.SALE_DATE >= to_date(#map.startime#||'00:00:00','yyyy-MM-dd hh24:mi:ss')]]></isNotEmpty>
		<isNotEmpty prepend=" and " property="map.endtime">
		<![CDATA[a.SALE_DATE <= to_date(#map.endtime#||'23:59:59','yyyy-MM-dd hh24:mi:ss')]]></isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.yw_name">
		a.DEPT_ID in (
			 select aa.store_id
	  			from konka_r3_store aa left join konka_r3_shop bb on aa.r3_code = bb.r3_code
	  			left join konka_pe_prod_user cc on bb.id = cc.cust_id
	  			where cc.real_name = #map.yw_name:VARCHAR#
  		)
		</isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.r3_kh_name">
		a.DEPT_ID in (
			 select aa.store_id
	  			from konka_r3_store aa where aa.kh_name = #map.r3_kh_name:VARCHAR#
  		)
		</isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.store_name_like">
		a.DEPT_ID in (
			 select aa.store_id
	  			from konka_r3_store aa where aa.store_name like '%'|| #map.store_name_like# ||'%'
  		)
		</isNotEmpty>
		
	</sql>
	
	<select id="selectKonkaMobileSailData" resultMap="konkaMobileSailDataResult" parameterClass="konkaMobileSailData" >
		select id,
       pct_code,
       channel_a_id,
       channel_a_name,
       channel_b_id,
       channel_b_name,
       org_id,
       <![CDATA[(select XSZZ from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as org_name,
       dept_id,
       dept_name,
       subcomp_id,
       subcomp_name,
       <![CDATA[(select JB_JOB_ID from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_id,
       <![CDATA[(select JB_NAME from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_name,
       measure_id,
       measure_name,
       prototype_id,
       prototype_name,
       category_id,
       category_name,
       model_id,
       model_name,
       all_price,
       single_price,
       num,
       report_id,
       report_name,
       report_date,
       realname,
       phonenum,
       addresss,
       mastercode,
       status,
       sale_date,
       memo,
       deduct,
       rule_id,
       is_del,
       data_source,
       r_sn from KONKA_MOBILE_SAIL_DATA a where 1=1
		<include refid="sf-konkaMobileSailData" />
	</select>
	
	<select id="selectKonkaMobileSailDataList" resultMap="konkaMobileSailDataResult" parameterClass="konkaMobileSailData" >
		<isNotEmpty property="row.count"><![CDATA[ select * from ( ]]></isNotEmpty>
		select id,
       pct_code,
       channel_a_id,
       channel_a_name,
       channel_b_id,
       channel_b_name,
       org_id,
       <![CDATA[(select XSZZ from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as org_name,
       dept_id,
       dept_name,
       subcomp_id,
       subcomp_name,
       <![CDATA[(select JB_JOB_ID from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_id,
       <![CDATA[(select JB_NAME from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_name,
       measure_id,
       measure_name,
       prototype_id,
       prototype_name,
       category_id,
       category_name,
       model_id,
       model_name,
       all_price,
       single_price,
       num,
       report_id,
       report_name,
       report_date,
       realname,
       phonenum,
       addresss,
       mastercode,
       status,
       sale_date,
       memo,
       deduct,
       rule_id,
       is_del,
       data_source,
       r_sn from KONKA_MOBILE_SAIL_DATA a where 1=1
		<include refid="sf-konkaMobileSailData" />
		order by a.ID desc
		<isNotEmpty property="row.count"><![CDATA[ ) where rownum<=#row.count# ]]></isNotEmpty>
	</select>
	
	<select id="selectKonkaMobileSailDataCount" resultClass="long" parameterClass="konkaMobileSailData" >
		select count(*) from KONKA_MOBILE_SAIL_DATA a  left join konka_pe_pd_model b on upper(a.model_name) = upper(b.md_name) where 1 = 1
		<include refid="sf-konkaMobileSailData" />
	</select>
	
	<select id="selectKonkaMobileSailDataPaginatedList" resultMap="konkaMobileSailDataResultForPriceRef" parameterClass="konkaMobileSailData" >
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select id,
       pct_code,
       channel_a_id,
       channel_a_name,
       channel_b_id,
       channel_b_name,
       org_id,
       <![CDATA[(select XSZZ from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as org_name,
       dept_id,
       dept_name,
       subcomp_id,
       subcomp_name,
       <![CDATA[(select JB_JOB_ID from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_id,
       <![CDATA[(select JB_NAME from konka_r3_store where store_id = a.dept_id and rownum<2)]]> as office_name,
       measure_id,
       measure_name,
       prototype_id,
       prototype_name,
       category_id,
       category_name,
       model_id,
       model_name,
       all_price,
       single_price,
       num,
       report_id,
       report_name,
       report_date,
       realname,
       phonenum,
       addresss,
       mastercode,
       status,
       sale_date,
       memo,
       deduct,
       rule_id,
       a.is_del,
       data_source,b.price_ref,
       r_sn from KONKA_MOBILE_SAIL_DATA a  left join konka_pe_pd_model b on upper(a.model_name) = upper(b.md_name) where 1=1
		<include refid="sf-konkaMobileSailData" />
		order by a.report_date desc
		<!-- order by a.ID desc -->
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertKonkaMobileSailData" parameterClass="konkaMobileSailData">
		<selectKey resultClass="long" keyProperty="id">select KONKA_MOBILE_RETAIL_REST_SEQ.nextval as id from dual</selectKey>
		<![CDATA[insert into KONKA_MOBILE_SAIL_DATA (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">ID</isNotNull>
			<isNotNull prepend="," property="pct_code">PCT_CODE</isNotNull>
			<isNotNull prepend="," property="channel_a_id">CHANNEL_A_ID</isNotNull>
			<isNotNull prepend="," property="channel_a_name">CHANNEL_A_NAME</isNotNull>
			<isNotNull prepend="," property="channel_b_id">CHANNEL_B_ID</isNotNull>
			<isNotNull prepend="," property="channel_b_name">CHANNEL_B_NAME</isNotNull>
			<isNotNull prepend="," property="org_id">ORG_ID</isNotNull>
			<isNotNull prepend="," property="org_name">ORG_NAME</isNotNull>
			<isNotNull prepend="," property="dept_id">DEPT_ID</isNotNull>
			<isNotNull prepend="," property="dept_name">DEPT_NAME</isNotNull>
			<isNotNull prepend="," property="subcomp_id">SUBCOMP_ID</isNotNull>
			<isNotNull prepend="," property="subcomp_name">SUBCOMP_NAME</isNotNull>
			<isNotNull prepend="," property="office_id">OFFICE_ID</isNotNull>
			<isNotNull prepend="," property="office_name">OFFICE_NAME</isNotNull>
			<isNotNull prepend="," property="measure_id">MEASURE_ID</isNotNull>
			<isNotNull prepend="," property="measure_name">MEASURE_NAME</isNotNull>
			<isNotNull prepend="," property="prototype_id">PROTOTYPE_ID</isNotNull>
			<isNotNull prepend="," property="prototype_name">PROTOTYPE_NAME</isNotNull>
			<isNotNull prepend="," property="category_id">CATEGORY_ID</isNotNull>
			<isNotNull prepend="," property="category_name">CATEGORY_NAME</isNotNull>
			<isNotNull prepend="," property="model_id">MODEL_ID</isNotNull>
			<isNotNull prepend="," property="model_name">MODEL_NAME</isNotNull>
			<isNotNull prepend="," property="all_price">ALL_PRICE</isNotNull>
			<isNotNull prepend="," property="single_price">SINGLE_PRICE</isNotNull>
			<isNotNull prepend="," property="num">NUM</isNotNull>
			<isNotNull prepend="," property="report_id">REPORT_ID</isNotNull>
			<isNotNull prepend="," property="report_name">REPORT_NAME</isNotNull>
			<isNotNull prepend="," property="report_date">REPORT_DATE</isNotNull>
			<isNotNull prepend="," property="realname">REALNAME</isNotNull>	
			<isNotNull prepend="," property="phonenum">PHONENUM</isNotNull>	
			<isNotNull prepend="," property="addresss">ADDRESSS</isNotNull>	
			<isNotNull prepend="," property="mastercode">MASTERCODE</isNotNull>	
			<isNotNull prepend="," property="status">STATUS</isNotNull>
			<isNotNull prepend="," property="memo">MEMO</isNotNull>
			<isNotNull prepend="," property="sale_date">SALE_DATE</isNotNull>
			<isNotNull prepend="," property="deduct">DEDUCT</isNotNull>
			<isNotNull prepend="," property="rule_id">RULE_ID</isNotNull>
			<isNotNull prepend="," property="data_source">DATA_SOURCE</isNotNull>
			<isNotNull prepend="," property="is_del">IS_DEL</isNotNull>
			<isNotNull prepend="," property="r_sn">R_SN</isNotNull>
		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">#id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="pct_code">#pct_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="channel_a_id">#channel_a_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="channel_a_name">#channel_a_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="channel_b_id">#channel_b_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="channel_b_name">#channel_b_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="org_id">#org_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="org_name">#org_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="dept_id">#dept_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="dept_name">#dept_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="subcomp_id">#subcomp_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="subcomp_name">#subcomp_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="office_id">#office_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="office_name">#office_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="measure_id">#measure_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="measure_name">#measure_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="prototype_id">#prototype_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="prototype_name">#prototype_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="category_id">#category_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="category_name">#category_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="model_id">#model_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="model_name">#model_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="all_price">#all_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="single_price">#single_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="num">#num:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="report_id">#report_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="report_name">#report_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="report_date">#report_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="realname">#realname:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="phonenum">#phonenum:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="addresss">#addresss:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="mastercode">#mastercode:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="status">#status:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="memo">#memo:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="sale_date">#sale_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="deduct">#deduct:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="rule_id">#rule_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="data_source">#data_source:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="is_del">#is_del:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="r_sn">#r_sn:VARCHAR#</isNotNull>
		</dynamic>
		<![CDATA[)]]>
	</insert>
	
	<update id="updateKonkaMobileSailData" parameterClass="konkaMobileSailData">
		update KONKA_MOBILE_SAIL_DATA
		<dynamic prepend="set">
			<isNotNull prepend="," property="id">ID = #id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="pct_code">PCT_CODE = #pct_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="channel_a_id">CHANNEL_A_ID = #channel_a_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="channel_a_name">CHANNEL_A_NAME = #channel_a_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="channel_b_id">CHANNEL_B_ID = #channel_b_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="channel_b_name">CHANNEL_B_NAME = #channel_b_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="org_id">ORG_ID = #org_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="org_name">ORG_NAME = #org_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="dept_id">DEPT_ID = #dept_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="dept_name">DEPT_NAME = #dept_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="subcomp_id">SUBCOMP_ID = #subcomp_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="subcomp_name">SUBCOMP_NAME = #subcomp_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="office_id">OFFICE_ID = #office_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="office_name">OFFICE_NAME = #office_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="measure_id">MEASURE_ID = #measure_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="measure_name">MEASURE_NAME = #measure_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="prototype_id">PROTOTYPE_ID = #prototype_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="prototype_name">PROTOTYPE_NAME = #prototype_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="category_id">CATEGORY_ID = #category_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="category_name">CATEGORY_NAME = #category_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="model_id">MODEL_ID = #model_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="model_name">MODEL_NAME = #model_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="all_price">ALL_PRICE = #all_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="single_price">SINGLE_PRICE = #single_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="num">NUM = #num:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="report_id">REPORT_ID = #report_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="report_name">REPORT_NAME = #report_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="report_date">REPORT_DATE = #report_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="realname">REALNAME = #realname:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="phonenum">PHONENUM = #phonenum:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="addresss">ADDRESSS = #addresss:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="mastercode">MASTERCODE = #mastercode:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="status">STATUS = #status:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="memo">MEMO = #memo:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="sale_date">SALE_DATE = #sale_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="deduct">DEDUCT = #deduct:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="rule_id">RULE_ID = #rule_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="data_source">DATA_SOURCE = #data_source:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="is_del">IS_DEL = #is_del:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="r_sn">R_SN = #r_sn:VARCHAR#</isNotNull>
		</dynamic>
		where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteKonkaMobileSailData" parameterClass="konkaMobileSailData">
		delete from KONKA_MOBILE_SAIL_DATA where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>
</sqlMap>
