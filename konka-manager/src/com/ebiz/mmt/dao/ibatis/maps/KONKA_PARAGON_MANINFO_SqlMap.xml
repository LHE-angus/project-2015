<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="KonkaParagonManinfo">

    <typeAlias alias="konkaParagonManinfo" type="com.ebiz.mmt.domain.KonkaParagonManinfo" />

	
	
    <resultMap id="konkaParagonManinfoResult" class="konkaParagonManinfo">
		<result property="seller_id" column="SELLER_ID" jdbcType="DECIMAL" />
		<result property="seller_name" column="SELLER_NAME" jdbcType="VARCHAR" />
		<result property="seller_code" column="SELLER_CODE" jdbcType="VARCHAR" />
		<result property="seller_phone" column="SELLER_PHONE" jdbcType="VARCHAR" />
		<result property="show_shop_code" column="SHOW_SHOP_CODE" jdbcType="VARCHAR" />
		<result property="addman" column="ADDMAN" jdbcType="DECIMAL" />
		<result property="addtime" column="ADDTIME" jdbcType="DATETIME" />
		<result property="seller_bank_count" column="SELLER_BANK_COUNT" jdbcType="VARCHAR" />
		<result property="seller_in" column="SELLER_IN" jdbcType="DATETIME" />
		<result property="fixdate" column="FIXDATE" jdbcType="VARCHAR" />
    </resultMap>
    
     <resultMap id="konkaParagonManinfoResultList" class="konkaParagonManinfo" extends="konkaParagonManinfoResult">
		<result column="SHOW_SHOP_NAME" property="map.show_shop_name" jdbcType="VARCHAR" />
	</resultMap>
    
	<sql id="sf-konkaParagonManinfo">
		<isNotEmpty prepend=" and " property="seller_id">a.SELLER_ID = #seller_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="seller_name">a.SELLER_NAME = #seller_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="seller_code">a.SELLER_CODE = #seller_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="seller_phone">a.SELLER_PHONE = #seller_phone:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="show_shop_code">a.SHOW_SHOP_CODE = #show_shop_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="addman">a.ADDMAN = #addman:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="addtime">a.ADDTIME = #addtime:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="seller_bank_count">a.SELLER_BANK_COUNT = #seller_bank_count:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="seller_in">a.SELLER_IN = #seller_in:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="fixdate">a.FIXDATE = #fixdate:VARCHAR#</isNotEmpty>
		
		<isNotEmpty prepend=" and " property="map.seller_name_like">UPPER(a.SELLER_NAME) like '%' || UPPER(#map.seller_name_like#) || '%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.show_shop_code_like">UPPER(a.SHOW_SHOP_CODE) like '%' || UPPER(#map.show_shop_code_like#) || '%'</isNotEmpty>
	</sql>
	
	<select id="selectKonkaParagonManinfo" resultMap="konkaParagonManinfoResult" parameterClass="konkaParagonManinfo" >
		select * from KONKA_PARAGON_MANINFO a where 1=1
		<include refid="sf-konkaParagonManinfo" />
	</select>
	
	<select id="selectKonkaParagonManinfoList" resultMap="konkaParagonManinfoResult" parameterClass="konkaParagonManinfo" >
		<isNotEmpty property="row.count"><![CDATA[ select * from ( ]]></isNotEmpty>
		select * from KONKA_PARAGON_MANINFO a where 1=1
		<include refid="sf-konkaParagonManinfo" />
		order by a.seller_id desc 
		<isNotEmpty property="row.count"><![CDATA[ ) where rownum<=#row.count# ]]></isNotEmpty>
	</select>
	
	<select id="selectKonkaParagonManinfoCount" resultClass="long" parameterClass="konkaParagonManinfo" >
		select count(*) from KONKA_PARAGON_MANINFO a 
		left join konka_paragon_showinfo b on b.show_shop_code = a.show_shop_code
		where 1 = 1
		<isNotEmpty prepend=" and " property="map.shop_name_like">b.show_shop_name like '%' || #map.shop_name_like# || '%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.channel_name_like">b.channel_name like '%' || #map.channel_name_like# || '%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.part_company_id">b.part_company_id = #map.part_company_id#</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.area_id">b.area_id = #map.area_id#</isNotEmpty>
		<isNotEmpty property="map.part_company_id_maninfo">and a.show_shop_code in 
		 (
		select t.show_shop_code
		  from konka_paragon_showinfo t
		 where 1 = 1
		 and t.part_company_id in (#map.part_company_id_maninfo#)
		)
		</isNotEmpty>
		<include refid="sf-konkaParagonManinfo" />
	</select>
	
	<select id="selectKonkaParagonManinfoPaginatedList" resultMap="konkaParagonManinfoResultList" parameterClass="konkaParagonManinfo" >
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select a.*,b.show_shop_name as show_shop_name from KONKA_PARAGON_MANINFO a 
		left join konka_paragon_showinfo b on b.show_shop_code = a.show_shop_code
		where 1=1
		<isNotEmpty prepend=" and " property="map.shop_name_like">b.show_shop_name like '%' || #map.shop_name_like# || '%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.channel_name_like">b.channel_name like '%' || #map.channel_name_like# || '%'</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.part_company_id">b.part_company_id = #map.part_company_id#</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.area_id">b.area_id = #map.area_id#</isNotEmpty>
		<isNotEmpty property="map.part_company_id_maninfo">and a.show_shop_code in 
		 (
		select t.show_shop_code
		  from konka_paragon_showinfo t
		 where 1 = 1
		 and t.part_company_id in (#map.part_company_id_maninfo#)
		)
		</isNotEmpty>
		<include refid="sf-konkaParagonManinfo" />
		 order by a.show_shop_code 
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertKonkaParagonManinfo" parameterClass="konkaParagonManinfo">
		<selectKey resultClass="long" keyProperty="seller_id">select KONKA_PARAGON_SEQ.nextval as seller_id from dual</selectKey>
		<![CDATA[insert into KONKA_PARAGON_MANINFO (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="seller_id">SELLER_ID</isNotNull>
			<isNotNull prepend="," property="seller_name">SELLER_NAME</isNotNull>
			<isNotNull prepend="," property="seller_code">SELLER_CODE</isNotNull>
			<isNotNull prepend="," property="seller_phone">SELLER_PHONE</isNotNull>
			<isNotNull prepend="," property="show_shop_code">SHOW_SHOP_CODE</isNotNull>
			<isNotNull prepend="," property="addman">ADDMAN</isNotNull>
			<isNotNull prepend="," property="addtime">ADDTIME</isNotNull>
			<isNotNull prepend="," property="seller_bank_count">SELLER_BANK_COUNT</isNotNull>
			<isNotNull prepend="," property="seller_in">SELLER_IN</isNotNull>
			<isNotNull prepend="," property="fixdate">FIXDATE</isNotNull>
		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="seller_id">#seller_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="seller_name">#seller_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_code">#seller_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_phone">#seller_phone:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="show_shop_code">#show_shop_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="addman">#addman:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="addtime">#addtime:DATETIME#</isNotNull>
			<isNotNull prepend="," property="seller_bank_count">#seller_bank_count:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_in">#seller_in:DATETIME#</isNotNull>
			<isNotNull prepend="," property="fixdate">#fixdate:VARCHAR#</isNotNull>
		</dynamic>
		<![CDATA[)]]>
	</insert>
	
	<update id="updateKonkaParagonManinfo" parameterClass="konkaParagonManinfo">
		update KONKA_PARAGON_MANINFO
		<dynamic prepend="set">
			<isNotNull prepend="," property="seller_id">SELLER_ID = #seller_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="seller_name">SELLER_NAME = #seller_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_code">SELLER_CODE = #seller_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_phone">SELLER_PHONE = #seller_phone:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="show_shop_code">SHOW_SHOP_CODE = #show_shop_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="addman">ADDMAN = #addman:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="addtime">ADDTIME = #addtime:DATETIME#</isNotNull>
			<isNotNull prepend="," property="seller_bank_count">SELLER_BANK_COUNT = #seller_bank_count:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="seller_in">SELLER_IN = #seller_in:DATETIME#</isNotNull>
			<isNotNull prepend="," property="fixdate">FIXDATE = #fixdate:VARCHAR#</isNotNull>
		</dynamic>
		where
		<isNotEmpty prepend=" " property="seller_id">SELLER_ID = #seller_id#</isNotEmpty>
		<isEmpty prepend=" " property="seller_id">
			<isNotEmpty prepend=" " property="map.pks">
				SELLER_ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteKonkaParagonManinfo" parameterClass="konkaParagonManinfo">
		delete from KONKA_PARAGON_MANINFO where 1 = 1
		<isNotEmpty prepend=" and " property="seller_id">SELLER_ID = #seller_id#</isNotEmpty>
		<isNotEmpty prepend=" and " property="show_shop_code">SHOW_SHOP_CODE = #show_shop_code#</isNotEmpty>
		<isNotEmpty prepend=" and " property="fixdate">FIXDATE = #fixdate:VARCHAR#</isNotEmpty>
		<isEmpty prepend=" " property="seller_id">
			<isNotEmpty prepend=" and " property="map.pks">
				SELLER_ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>
</sqlMap>
