<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="KONKA_R3_EX_ORDER_LINES">

	<typeAlias alias="konkaR3ExOrderLines" type="com.ebiz.mmt.domain.KonkaR3ExOrderLines" />

	<cacheModel id="oneDayCache" type="OSCACHE">
		<flushInterval hours="24" />
		<flushOnExecute statement="insertKonkaR3ExOrderLines" />
		<flushOnExecute statement="updateKonkaR3ExOrderLines" />
		<flushOnExecute statement="deleteKonkaR3ExOrderLines" />
	</cacheModel>

	<resultMap id="konkaR3ExOrderLinesResultForList" class="konkaR3ExOrderLines">
		<result column="R3_EX_ORDER_LINE_ID" property="r3_ex_order_line_id" jdbcType="DECIMAL" />
		<result column="MATERIAL_CODE" property="material_code" jdbcType="VARCHAR" />
		<result column="MATERIAL_NAME" property="material_name" jdbcType="VARCHAR" />
		<result column="MATERIAL_DESC" property="material_desc" jdbcType="VARCHAR" />
		<result column="REVIEW_NOTES" property="review_notes" jdbcType="VARCHAR" />
		<result column="SHIP_DESC" property="ship_desc" jdbcType="VARCHAR" />
		<result column="UNIT_CODE" property="unit_code" jdbcType="VARCHAR" />
		<result column="APPLY_AMOUNT" property="apply_amount" jdbcType="DECIMAL" />
		<result column="REVIEW_AMOUNT" property="review_amount" jdbcType="DECIMAL" />
		<result column="UNIT_PRICE" property="unit_price" jdbcType="DECIMAL" />
		<result column="TOTAL_MONEY" property="total_money" jdbcType="DECIMAL" />
		<result column="ATTRIBUTE1" property="attribute1" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE2" property="attribute2" jdbcType="VARCHAR" />
		<result column="R3_ORDER_HEADER_ID" property="r3_order_header_id" jdbcType="DECIMAL" />
	</resultMap>

	<resultMap id="konkaR3ExOrderLinesResult" class="konkaR3ExOrderLines" extends="konkaR3ExOrderLinesResultForList">
	</resultMap>

	<sql id="sf-konkaR3ExOrderLines">
		<isNotEmpty prepend=" and " property="r3_ex_order_line_id">R3_EX_ORDER_LINE_ID = #r3_ex_order_line_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="material_code">MATERIAL_CODE = #material_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="material_name">MATERIAL_NAME = #material_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="material_desc">MATERIAL_DESC = #material_desc:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="review_notes">REVIEW_NOTES = #review_notes:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="ship_desc">SHIP_DESC = #ship_desc:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="unit_code">UNIT_CODE = #unit_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="apply_amount">APPLY_AMOUNT = #apply_amount:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="review_amount">REVIEW_AMOUNT = #review_amount:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="unit_price">UNIT_PRICE = #unit_price:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="total_money">TOTAL_MONEY = #total_money:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute1">ATTRIBUTE1 = #attribute1:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute2">ATTRIBUTE2 = #attribute2:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r3_order_header_id">R3_ORDER_HEADER_ID = #r3_order_header_id:DECIMAL#</isNotEmpty>
	</sql>

	<select id="selectKonkaR3ExOrderLines" resultMap="konkaR3ExOrderLinesResult" parameterClass="konkaR3ExOrderLines" cacheModel="oneDayCache">
		select * from KONKA_R3_EX_ORDER_LINES where 1 = 1
		<include refid="sf-konkaR3ExOrderLines" />
	</select>

	<select id="selectKonkaR3ExOrderLinesList" resultMap="konkaR3ExOrderLinesResultForList" parameterClass="konkaR3ExOrderLines" cacheModel="oneDayCache">
		<isNotEmpty property="row.count">
			<![CDATA[ select * from ( ]]>
		</isNotEmpty>
		select * from KONKA_R3_EX_ORDER_LINES where 1 = 1
		<include refid="sf-konkaR3ExOrderLines" />
		<!-- order by ID asc -->
		<isNotEmpty property="row.count">
			<![CDATA[ ) where rownum <= #row.count# ]]>
		</isNotEmpty>
	</select>

	<select id="selectKonkaR3ExOrderLinesCount" resultClass="long" parameterClass="konkaR3ExOrderLines" cacheModel="oneDayCache">
		select count(*) from KONKA_R3_EX_ORDER_LINES where 1 = 1
		<include refid="sf-konkaR3ExOrderLines" />
	</select>

	<select id="selectKonkaR3ExOrderLinesPaginatedList" resultMap="konkaR3ExOrderLinesResult" parameterClass="konkaR3ExOrderLines" cacheModel="oneDayCache">
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select * from KONKA_R3_EX_ORDER_LINES where 1 = 1
		<include refid="sf-konkaR3ExOrderLines" />
		<!-- order by ID asc -->
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertKonkaR3ExOrderLines" parameterClass="konkaR3ExOrderLines">
		<selectKey resultClass="long" keyProperty="id">select seq_xxx.nextval as id from dual </selectKey>
		<![CDATA[insert into KONKA_R3_EX_ORDER_LINES (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="r3_ex_order_line_id">R3_EX_ORDER_LINE_ID</isNotNull>
			<isNotNull prepend="," property="material_code">MATERIAL_CODE</isNotNull>
			<isNotNull prepend="," property="material_name">MATERIAL_NAME</isNotNull>
			<isNotNull prepend="," property="material_desc">MATERIAL_DESC</isNotNull>
			<isNotNull prepend="," property="review_notes">REVIEW_NOTES</isNotNull>
			<isNotNull prepend="," property="ship_desc">SHIP_DESC</isNotNull>
			<isNotNull prepend="," property="unit_code">UNIT_CODE</isNotNull>
			<isNotNull prepend="," property="apply_amount">APPLY_AMOUNT</isNotNull>
			<isNotNull prepend="," property="review_amount">REVIEW_AMOUNT</isNotNull>
			<isNotNull prepend="," property="unit_price">UNIT_PRICE</isNotNull>
			<isNotNull prepend="," property="total_money">TOTAL_MONEY</isNotNull>
			<isNotNull prepend="," property="attribute1">ATTRIBUTE1</isNotNull>
			<isNotNull prepend="," property="attribute2">ATTRIBUTE2</isNotNull>
			<isNotNull prepend="," property="r3_order_header_id">R3_ORDER_HEADER_ID</isNotNull>
		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="r3_ex_order_line_id">#r3_ex_order_line_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="material_code">#material_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="material_name">#material_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="material_desc">#material_desc:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="review_notes">#review_notes:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="ship_desc">#ship_desc:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="unit_code">#unit_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_amount">#apply_amount:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="review_amount">#review_amount:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="unit_price">#unit_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="total_money">#total_money:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="attribute1">#attribute1:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute2">#attribute2:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_header_id">#r3_order_header_id:DECIMAL#</isNotNull>
		</dynamic>
		<![CDATA[)]]>
	</insert>

	<update id="updateKonkaR3ExOrderLines" parameterClass="KonkaR3ExOrderLines">
		update KONKA_R3_EX_ORDER_LINES
		<dynamic prepend="set">
			<isNotNull prepend="," property="r3_ex_order_line_id">R3_EX_ORDER_LINE_ID = #r3_ex_order_line_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="material_code">MATERIAL_CODE = #material_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="material_name">MATERIAL_NAME = #material_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="material_desc">MATERIAL_DESC = #material_desc:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="review_notes">REVIEW_NOTES = #review_notes:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="ship_desc">SHIP_DESC = #ship_desc:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="unit_code">UNIT_CODE = #unit_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_amount">APPLY_AMOUNT = #apply_amount:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="review_amount">REVIEW_AMOUNT = #review_amount:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="unit_price">UNIT_PRICE = #unit_price:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="total_money">TOTAL_MONEY = #total_money:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="attribute1">ATTRIBUTE1 = #attribute1:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute2">ATTRIBUTE2 = #attribute2:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_header_id">R3_ORDER_HEADER_ID = #r3_order_header_id:DECIMAL#</isNotNull>
		</dynamic>
		where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteKonkaR3ExOrderLines" parameterClass="KonkaR3ExOrderLines">
		delete from KONKA_R3_EX_ORDER_LINES where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>

</sqlMap>