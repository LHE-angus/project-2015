<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

	<!-- Code by AutoGenerated Builder -->
	<!-- AutoGenerated Builder Version 2.1 -->
	<!-- @author Hui,Gang -->
	<!-- @datetime 2011-11-10 15:33:16 -->
<sqlMap namespace="KONKA_R3_BACKMONEY">
	
	<typeAlias alias="konkaR3Backmoney" type="com.ebiz.mmt.domain.KonkaR3Backmoney" />

	

	<resultMap id="konkaR3BackmoneyResultForList" class="konkaR3Backmoney">
		<result column="ID" property="id" jdbcType="DECIMAL" />
		<result column="ADD_DATE" property="add_date" jdbcType="DATE" />
		<result column="ADD_UID" property="add_uid" jdbcType="DECIMAL" />
		<result column="YEAR" property="year" jdbcType="DECIMAL" />
		<result column="BRANCH_AREA_NAME" property="branch_area_name" jdbcType="VARCHAR" />
		<result column="BRANCH_AREA_CODE" property="branch_area_code" jdbcType="DECIMAL" />
		<result column="HANDLE_NAME" property="handle_name" jdbcType="VARCHAR" />
		<result column="R3_CODE" property="r3_code" jdbcType="VARCHAR" />
		<result column="CUSTOMER_TYPE" property="customer_type" jdbcType="VARCHAR" />
		<result column="AREA_NAME" property="area_name" jdbcType="VARCHAR" />
		<result column="AREA_CODE" property="area_code" jdbcType="DECIMAL" />
		<result column="CUSTOMER_NAME" property="customer_name" jdbcType="VARCHAR" />
		<result column="COLUMN_1" property="column_1" jdbcType="DECIMAL" />
		<result column="COLUMN_2" property="column_2" jdbcType="DECIMAL" />
		<result column="COLUMN_3" property="column_3" jdbcType="DECIMAL" />
		<result column="COLUMN_4" property="column_4" jdbcType="DECIMAL" />
		<result column="COLUMN_5" property="column_5" jdbcType="DECIMAL" />
		<result column="COLUMN_6" property="column_6" jdbcType="DECIMAL" />
		<result column="COLUMN_7" property="column_7" jdbcType="DECIMAL" />
		<result column="COLUMN_8" property="column_8" jdbcType="DECIMAL" />
		<result column="COLUMN_9" property="column_9" jdbcType="DECIMAL" />
		<result column="COLUMN_10" property="column_10" jdbcType="DECIMAL" />
		<result column="COLUMN_11" property="column_11" jdbcType="DECIMAL" />
		<result column="COLUMN_12" property="column_12" jdbcType="DECIMAL" />
	</resultMap>

	<resultMap id="konkaR3BackmoneyResult" class="konkaR3Backmoney" extends="konkaR3BackmoneyResultForList">
	</resultMap>

	<sql id="sf-konkaR3Backmoney">
		<isNotEmpty prepend=" and " property="id">ID = #id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="add_date">ADD_DATE = #add_date:DATE#</isNotEmpty>
		<isNotEmpty prepend=" and " property="add_uid">ADD_UID = #add_uid:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="year">YEAR = #year:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="branch_area_name">BRANCH_AREA_NAME = #branch_area_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="branch_area_code">BRANCH_AREA_CODE = #branch_area_code:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="handle_name">HANDLE_NAME = #handle_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r3_code">R3_CODE = #r3_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="customer_type">CUSTOMER_TYPE = #customer_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="area_name">AREA_NAME = #area_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="area_code">AREA_CODE = #area_code:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="customer_name">CUSTOMER_NAME = #customer_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_1">COLUMN_1 = #column_1:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_2">COLUMN_2 = #column_2:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_3">COLUMN_3 = #column_3:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_4">COLUMN_4 = #column_4:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_5">COLUMN_5 = #column_5:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_6">COLUMN_6 = #column_6:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_7">COLUMN_7 = #column_7:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_8">COLUMN_8 = #column_8:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_9">COLUMN_9 = #column_9:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_10">COLUMN_10 = #column_10:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_11">COLUMN_11 = #column_11:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_12">COLUMN_12 = #column_12:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.shop_name_String">$map.column_name$  in ($map.shop_name_String$)</isNotEmpty>
	</sql>
	
	<resultMap id="konkaR3BackmoneyForYearMonth" class="konkaR3Backmoney" extends="konkaR3BackmoneyResultForList">
		<result column="COLUMN_M" property="map.column_m" jdbcType="DECIMAL" />
		<result column="COLUMN_Y" property="map.column_y" jdbcType="DECIMAL" />
	</resultMap>
	
	<select id="selectKonkaR3Backmoney" resultMap="konkaR3BackmoneyResult" parameterClass="konkaR3Backmoney" >
		select * from KONKA_R3_BACKMONEY where 1 = 1
		<include refid="sf-konkaR3Backmoney" />
	</select>

	<select id="selectKonkaR3BackmoneyList" resultMap="konkaR3BackmoneyForYearMonth" parameterClass="konkaR3Backmoney" >
		<isNotEmpty property="row.count">
			<![CDATA[ select * from ( ]]>
		</isNotEmpty>
		select a.*
		  <isNotEmpty prepend=" ," property="map.column_m">
             decode(column_$map.column_m$,null,0,column_$map.column_m$) as COLUMN_M,'0' as COLUMN_Y
          </isNotEmpty>
          <isNotEmpty prepend=" ," property="map.column_y">
             0 as COLUMN_M,$map.column_y$ as COLUMN_Y
          </isNotEmpty>
		 from KONKA_R3_BACKMONEY a where 1 = 1
		<include refid="sf-konkaR3Backmoney" />
		<!-- order by ID asc -->
		<isNotEmpty property="row.count">
			<![CDATA[ ) where rownum <= #row.count# ]]>
		</isNotEmpty>
	</select>
	
	<!--Hu,Hao 2013-07-05 -->
	<select id="selectKonkaR3BackmoneyListForTb" resultMap="konkaR3BackmoneyResultForList" parameterClass="konkaR3Backmoney" >
		<isNotEmpty property="row.count">
			<![CDATA[ select * from ( ]]>
		</isNotEmpty>
		select a.* from KONKA_R3_BACKMONEY a where 1 = 1
		<include refid="sf-konkaR3Backmoney" />
		<!-- order by ID asc -->
		<isNotEmpty property="row.count">
			<![CDATA[ ) where rownum <= #row.count# ]]>
		</isNotEmpty>
	</select>

	<select id="selectKonkaR3BackmoneyCount" resultClass="long" parameterClass="konkaR3Backmoney" >
		select count(*) from KONKA_R3_BACKMONEY where 1 = 1
		<include refid="sf-konkaR3Backmoney" />
	</select>

	<select id="selectKonkaR3BackmoneyPaginatedList" resultMap="konkaR3BackmoneyResultForList" parameterClass="konkaR3Backmoney" >
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select * from KONKA_R3_BACKMONEY where 1 = 1
		<include refid="sf-konkaR3Backmoney" />
		<!-- order by ID asc -->
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertKonkaR3Backmoney" parameterClass="konkaR3Backmoney">
		<selectKey resultClass="long" keyProperty="id">select SEQ_KONKA_R3_BACKMONEY.nextval as id from dual</selectKey>
		<![CDATA[insert into KONKA_R3_BACKMONEY (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">ID</isNotNull>	
			<isNotNull prepend="," property="add_date">ADD_DATE</isNotNull>	
			<isNotNull prepend="," property="add_uid">ADD_UID</isNotNull>	
			<isNotNull prepend="," property="year">YEAR</isNotNull>	
			<isNotNull prepend="," property="branch_area_name">BRANCH_AREA_NAME</isNotNull>	
			<isNotNull prepend="," property="branch_area_code">BRANCH_AREA_CODE</isNotNull>	
			<isNotNull prepend="," property="handle_name">HANDLE_NAME</isNotNull>	
			<isNotNull prepend="," property="r3_code">R3_CODE</isNotNull>	
			<isNotNull prepend="," property="customer_type">CUSTOMER_TYPE</isNotNull>	
			<isNotNull prepend="," property="area_name">AREA_NAME</isNotNull>	
			<isNotNull prepend="," property="area_code">AREA_CODE</isNotNull>	
			<isNotNull prepend="," property="customer_name">CUSTOMER_NAME</isNotNull>	
			<isNotNull prepend="," property="column_1">COLUMN_1</isNotNull>	
			<isNotNull prepend="," property="column_2">COLUMN_2</isNotNull>	
			<isNotNull prepend="," property="column_3">COLUMN_3</isNotNull>	
			<isNotNull prepend="," property="column_4">COLUMN_4</isNotNull>	
			<isNotNull prepend="," property="column_5">COLUMN_5</isNotNull>	
			<isNotNull prepend="," property="column_6">COLUMN_6</isNotNull>	
			<isNotNull prepend="," property="column_7">COLUMN_7</isNotNull>	
			<isNotNull prepend="," property="column_8">COLUMN_8</isNotNull>	
			<isNotNull prepend="," property="column_9">COLUMN_9</isNotNull>	
			<isNotNull prepend="," property="column_10">COLUMN_10</isNotNull>	
			<isNotNull prepend="," property="column_11">COLUMN_11</isNotNull>	
			<isNotNull prepend="," property="column_12">COLUMN_12</isNotNull>	
		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">#id:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="add_date">#add_date:DATE#</isNotNull>	
			<isNotNull prepend="," property="add_uid">#add_uid:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="year">#year:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="branch_area_name">#branch_area_name:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="branch_area_code">#branch_area_code:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="handle_name">#handle_name:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="r3_code">#r3_code:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="customer_type">#customer_type:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="area_name">#area_name:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="area_code">#area_code:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="customer_name">#customer_name:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="column_1">#column_1:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_2">#column_2:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_3">#column_3:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_4">#column_4:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_5">#column_5:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_6">#column_6:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_7">#column_7:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_8">#column_8:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_9">#column_9:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_10">#column_10:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_11">#column_11:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_12">#column_12:DECIMAL#</isNotNull>	
		</dynamic>
		<![CDATA[)]]>
	</insert>

	<update id="updateKonkaR3Backmoney" parameterClass="konkaR3Backmoney">
		update KONKA_R3_BACKMONEY
		<dynamic prepend="set">
			<isNotNull prepend="," property="id">ID = #id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="add_date">ADD_DATE = #add_date:DATE#</isNotNull>
			<isNotNull prepend="," property="add_uid">ADD_UID = #add_uid:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="year">YEAR = #year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="branch_area_name">BRANCH_AREA_NAME = #branch_area_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="branch_area_code">BRANCH_AREA_CODE = #branch_area_code:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="handle_name">HANDLE_NAME = #handle_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_code">R3_CODE = #r3_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="customer_type">CUSTOMER_TYPE = #customer_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="area_name">AREA_NAME = #area_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="area_code">AREA_CODE = #area_code:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="customer_name">CUSTOMER_NAME = #customer_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="column_1">COLUMN_1 = #column_1:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_2">COLUMN_2 = #column_2:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_3">COLUMN_3 = #column_3:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_4">COLUMN_4 = #column_4:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_5">COLUMN_5 = #column_5:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_6">COLUMN_6 = #column_6:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_7">COLUMN_7 = #column_7:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_8">COLUMN_8 = #column_8:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_9">COLUMN_9 = #column_9:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_10">COLUMN_10 = #column_10:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_11">COLUMN_11 = #column_11:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_12">COLUMN_12 = #column_12:DECIMAL#</isNotNull>
		</dynamic>
		where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteKonkaR3Backmoney" parameterClass="konkaR3Backmoney">
		delete from KONKA_R3_BACKMONEY where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>

</sqlMap>