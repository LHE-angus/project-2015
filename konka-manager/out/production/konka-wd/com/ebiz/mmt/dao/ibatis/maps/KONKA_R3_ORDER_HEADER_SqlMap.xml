<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="KONKA_R3_ORDER_HEADER">

	<typeAlias alias="konkaR3OrderHeader" type="com.ebiz.mmt.domain.KonkaR3OrderHeader" />

	<cacheModel id="oneDayCache" type="OSCACHE">
		<flushInterval hours="24" />
		<flushOnExecute statement="insertKonkaR3OrderHeader" />
		<flushOnExecute statement="updateKonkaR3OrderHeader" />
		<flushOnExecute statement="deleteKonkaR3OrderHeader" />
	</cacheModel>

	<resultMap id="konkaR3OrderHeaderResultForList" class="konkaR3OrderHeader">
		<result column="R3_ORDER_HEADER_ID" property="r3_order_header_id" jdbcType="DECIMAL" />
		<result column="R3_ORDER_NO" property="r3_order_no" jdbcType="VARCHAR" />
		<result column="R3_ORDER_YEAR" property="r3_order_year" jdbcType="DECIMAL" />
		<result column="CUSTOMER_ID" property="customer_id" jdbcType="DECIMAL" />
		<result column="CUSTOMER_CODE" property="customer_code" jdbcType="VARCHAR" />
		<result column="CUSTOMER_NAME" property="customer_name" jdbcType="VARCHAR" />
		<result column="R3_ORDER_SELL_NO" property="r3_order_sell_no" jdbcType="VARCHAR" />
		<result column="CERTIFY_YEAR" property="certify_year" jdbcType="DECIMAL" />
		<result column="MATERIAL_TYPE" property="material_type" jdbcType="VARCHAR" />
		<result column="TURNOVER_MATERIAL_TYPE" property="turnover_material_type" jdbcType="VARCHAR" />
		<result column="APPLY_TYPE" property="apply_type" jdbcType="VARCHAR" />
		<result column="DELIVERY_TYPE" property="delivery_type" jdbcType="VARCHAR" />
		<result column="APPLY_DATE" property="apply_date" jdbcType="DATETIME" />
		<result column="SHIP_DATE" property="ship_date" jdbcType="DATETIME" />
		<result column="EMERGENCY_LEVEL" property="emergency_level" jdbcType="VARCHAR" />
		<result column="SUGGEST_CARRIER" property="suggest_carrier" jdbcType="VARCHAR" />
		<result column="CREATOR" property="creator" jdbcType="VARCHAR" />
		<result column="RECIPIENT" property="recipient" jdbcType="VARCHAR" />
		<result column="RECIPIENT_ADDRESS" property="recipient_address" jdbcType="VARCHAR" />
		<result column="RECIPIENT_TEL" property="recipient_tel" jdbcType="VARCHAR" />
		<result column="RECIPIENT_PHONE" property="recipient_phone" jdbcType="VARCHAR" />
		<result column="TOTAL_MONEY" property="total_money" jdbcType="DECIMAL" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE1" property="attribute1" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE2" property="attribute2" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE3" property="attribute3" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE4" property="attribute4" jdbcType="VARCHAR" />
		<result column="ATTRIBUTE5" property="attribute5" jdbcType="VARCHAR" />

		<result column="SALES_ORG" property="sales_org" jdbcType="VARCHAR" />
		<result column="DOC_TYPE" property="doc_type" jdbcType="VARCHAR" />
		<result column="DISTR_CHAN" property="distr_chan" jdbcType="VARCHAR" />
		<result column="DIVISION" property="division" jdbcType="VARCHAR" />
		<result column="AG" property="ag" jdbcType="VARCHAR" />
		<result column="RE" property="re" jdbcType="VARCHAR" />
		<result column="RG" property="rg" jdbcType="VARCHAR" />
		<result column="WE" property="we" jdbcType="VARCHAR" />

	</resultMap>

	<resultMap id="konkaR3OrderHeaderResult" class="konkaR3OrderHeader" extends="konkaR3OrderHeaderResultForList">
	</resultMap>

	<sql id="sf-konkaR3OrderHeader">
		<isNotEmpty prepend=" and " property="r3_order_header_id">R3_ORDER_HEADER_ID = #r3_order_header_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r3_order_no">R3_ORDER_NO = #r3_order_no:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r3_order_year">R3_ORDER_YEAR = #r3_order_year:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="customer_id">CUSTOMER_ID = #customer_id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="customer_code">CUSTOMER_CODE = #customer_code:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="customer_name">CUSTOMER_NAME = #customer_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="r3_order_sell_no">R3_ORDER_SELL_NO = #r3_order_sell_no:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="certify_year">CERTIFY_YEAR = #certify_year:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="material_type">MATERIAL_TYPE = #material_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="turnover_material_type">TURNOVER_MATERIAL_TYPE = #turnover_material_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="apply_type">APPLY_TYPE = #apply_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="delivery_type">DELIVERY_TYPE = #delivery_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="apply_date">APPLY_DATE = #apply_date:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="ship_date">SHIP_DATE = #ship_date:DATETIME#</isNotEmpty>
		<isNotEmpty prepend=" and " property="emergency_level">EMERGENCY_LEVEL = #emergency_level:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="suggest_carrier">SUGGEST_CARRIER = #suggest_carrier:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="creator">CREATOR = #creator:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="recipient">RECIPIENT = #recipient:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="recipient_address">RECIPIENT_ADDRESS = #recipient_address:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="recipient_tel">RECIPIENT_TEL = #recipient_tel:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="recipient_phone">RECIPIENT_PHONE = #recipient_phone:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="total_money">TOTAL_MONEY = #total_money:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="remark">REMARK = #remark:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute1">ATTRIBUTE1 = #attribute1:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute2">ATTRIBUTE2 = #attribute2:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute3">ATTRIBUTE3 = #attribute3:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute4">ATTRIBUTE4 = #attribute4:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="attribute5">ATTRIBUTE5 = #attribute5:VARCHAR#</isNotEmpty>

		<isNotEmpty prepend=" and " property="sales_org">SALES_ORG = #sales_org:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="doc_type">DOC_TYPE = #doc_type:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="distr_chan">DISTR_CHAN = #distr_chan:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="division">DIVISION = #division:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="ag">AG = #ag:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="re">RE = #re:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="rg">RG = #rg:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="we">WE = #we:VARCHAR#</isNotEmpty>

	</sql>

	<select id="selectKonkaR3OrderHeader" resultMap="konkaR3OrderHeaderResult" parameterClass="konkaR3OrderHeader" cacheModel="oneDayCache">
		select * from KONKA_R3_ORDER_HEADER where 1 = 1
		<include refid="sf-konkaR3OrderHeader" />
	</select>

	<select id="selectKonkaR3OrderHeaderList" resultMap="konkaR3OrderHeaderResultForList" parameterClass="konkaR3OrderHeader" cacheModel="oneDayCache">
		<isNotEmpty property="row.count">
			<![CDATA[ select * from ( ]]>
		</isNotEmpty>
		select * from KONKA_R3_ORDER_HEADER where 1 = 1
		<include refid="sf-konkaR3OrderHeader" />
		<!-- order by ID asc -->
		<isNotEmpty property="row.count">
			<![CDATA[ ) where rownum <= #row.count# ]]>
		</isNotEmpty>
	</select>

	<select id="selectKonkaR3OrderHeaderCount" resultClass="long" parameterClass="konkaR3OrderHeader" cacheModel="oneDayCache">
		select count(*) from KONKA_R3_ORDER_HEADER where 1 = 1
		<include refid="sf-konkaR3OrderHeader" />
	</select>

	<select id="selectKonkaR3OrderHeaderPaginatedList" resultMap="konkaR3OrderHeaderResult" parameterClass="konkaR3OrderHeader" cacheModel="oneDayCache">
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select * from KONKA_R3_ORDER_HEADER where 1 = 1
		<include refid="sf-konkaR3OrderHeader" />
		<!-- order by ID asc -->
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertKonkaR3OrderHeader" parameterClass="konkaR3OrderHeader">
		<selectKey resultClass="long" keyProperty="r3_order_header_id">select konka_r3_order_header_s.nextval as id from dual </selectKey>
		<![CDATA[insert into KONKA_R3_ORDER_HEADER (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="r3_order_header_id">R3_ORDER_HEADER_ID</isNotNull>
			<isNotNull prepend="," property="r3_order_no">R3_ORDER_NO</isNotNull>
			<isNotNull prepend="," property="r3_order_year">R3_ORDER_YEAR</isNotNull>
			<isNotNull prepend="," property="customer_id">CUSTOMER_ID</isNotNull>
			<isNotNull prepend="," property="customer_code">CUSTOMER_CODE</isNotNull>
			<isNotNull prepend="," property="customer_name">CUSTOMER_NAME</isNotNull>
			<isNotNull prepend="," property="r3_order_sell_no">R3_ORDER_SELL_NO</isNotNull>
			<isNotNull prepend="," property="certify_year">CERTIFY_YEAR</isNotNull>
			<isNotNull prepend="," property="material_type">MATERIAL_TYPE</isNotNull>
			<isNotNull prepend="," property="turnover_material_type">TURNOVER_MATERIAL_TYPE</isNotNull>
			<isNotNull prepend="," property="apply_type">APPLY_TYPE</isNotNull>
			<isNotNull prepend="," property="delivery_type">DELIVERY_TYPE</isNotNull>
			<isNotNull prepend="," property="apply_date">APPLY_DATE</isNotNull>
			<isNotNull prepend="," property="ship_date">SHIP_DATE</isNotNull>
			<isNotNull prepend="," property="emergency_level">EMERGENCY_LEVEL</isNotNull>
			<isNotNull prepend="," property="suggest_carrier">SUGGEST_CARRIER</isNotNull>
			<isNotNull prepend="," property="creator">CREATOR</isNotNull>
			<isNotNull prepend="," property="recipient">RECIPIENT</isNotNull>
			<isNotNull prepend="," property="recipient_address">RECIPIENT_ADDRESS</isNotNull>
			<isNotNull prepend="," property="recipient_tel">RECIPIENT_TEL</isNotNull>
			<isNotNull prepend="," property="recipient_phone">RECIPIENT_PHONE</isNotNull>
			<isNotNull prepend="," property="total_money">TOTAL_MONEY</isNotNull>
			<isNotNull prepend="," property="remark">REMARK</isNotNull>
			<isNotNull prepend="," property="attribute1">ATTRIBUTE1</isNotNull>
			<isNotNull prepend="," property="attribute2">ATTRIBUTE2</isNotNull>
			<isNotNull prepend="," property="attribute3">ATTRIBUTE3</isNotNull>
			<isNotNull prepend="," property="attribute4">ATTRIBUTE4</isNotNull>
			<isNotNull prepend="," property="attribute5">ATTRIBUTE5</isNotNull>

			<isNotNull prepend="," property="sales_org">SALES_ORG</isNotNull>
			<isNotNull prepend="," property="doc_type">DOC_TYPE</isNotNull>
			<isNotNull prepend="," property="distr_chan">DISTR_CHAN</isNotNull>
			<isNotNull prepend="," property="division">DIVISION</isNotNull>
			<isNotNull prepend="," property="ag">AG</isNotNull>
			<isNotNull prepend="," property="re">RE</isNotNull>
			<isNotNull prepend="," property="rg">RG</isNotNull>
			<isNotNull prepend="," property="we">WE</isNotNull>

		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="r3_order_header_id">#r3_order_header_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="r3_order_no">#r3_order_no:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_year">#r3_order_year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="customer_id">#customer_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="customer_code">#customer_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="customer_name">#customer_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_sell_no">#r3_order_sell_no:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="certify_year">#certify_year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="material_type">#material_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="turnover_material_type">#turnover_material_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_type">#apply_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="delivery_type">#delivery_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_date">#apply_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="ship_date">#ship_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="emergency_level">#emergency_level:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="suggest_carrier">#suggest_carrier:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="creator">#creator:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient">#recipient:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_address">#recipient_address:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_tel">#recipient_tel:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_phone">#recipient_phone:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="total_money">#total_money:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="remark">#remark:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute1">#attribute1:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute2">#attribute2:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute3">#attribute3:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute4">#attribute4:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute5">#attribute5:VARCHAR#</isNotNull>

			<isNotNull prepend="," property="sales_org">#sales_org:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="doc_type">#doc_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="distr_chan">#distr_chan:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="division">#division:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="ag">#ag:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="re">#re:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="rg">#rg:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="we">#we:VARCHAR#</isNotNull>


		</dynamic>
		<![CDATA[)]]>
	</insert>

	<update id="updateKonkaR3OrderHeader" parameterClass="KonkaR3OrderHeader">
		update KONKA_R3_ORDER_HEADER
		<dynamic prepend="set">
			<isNotNull prepend="," property="r3_order_header_id">R3_ORDER_HEADER_ID = #r3_order_header_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="r3_order_no">R3_ORDER_NO = #r3_order_no:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_year">R3_ORDER_YEAR = #r3_order_year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="customer_id">CUSTOMER_ID = #customer_id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="customer_code">CUSTOMER_CODE = #customer_code:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="customer_name">CUSTOMER_NAME = #customer_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="r3_order_sell_no">R3_ORDER_SELL_NO = #r3_order_sell_no:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="certify_year">CERTIFY_YEAR = #certify_year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="material_type">MATERIAL_TYPE = #material_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="turnover_material_type">TURNOVER_MATERIAL_TYPE = #turnover_material_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_type">APPLY_TYPE = #apply_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="delivery_type">DELIVERY_TYPE = #delivery_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="apply_date">APPLY_DATE = #apply_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="ship_date">SHIP_DATE = #ship_date:DATETIME#</isNotNull>
			<isNotNull prepend="," property="emergency_level">EMERGENCY_LEVEL = #emergency_level:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="suggest_carrier">SUGGEST_CARRIER = #suggest_carrier:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="creator">CREATOR = #creator:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient">RECIPIENT = #recipient:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_address">RECIPIENT_ADDRESS = #recipient_address:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_tel">RECIPIENT_TEL = #recipient_tel:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="recipient_phone">RECIPIENT_PHONE = #recipient_phone:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="total_money">TOTAL_MONEY = #total_money:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="remark">REMARK = #remark:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute1">ATTRIBUTE1 = #attribute1:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute2">ATTRIBUTE2 = #attribute2:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute3">ATTRIBUTE3 = #attribute3:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute4">ATTRIBUTE4 = #attribute4:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="attribute5">ATTRIBUTE5 = #attribute5:VARCHAR#</isNotNull>

			<isNotNull prepend="," property="sales_org">SALES_ORG = #sales_org:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="doc_type">DOC_TYPE = #doc_type:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="distr_chan">DISTR_CHAN = #distr_chan:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="division">DIVISION = #division:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="ag">AG = #ag:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="re">RE = #re:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="rg">RG = #rg:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="we">WE = #we:VARCHAR#</isNotNull>

		</dynamic>
		where
		<isNotEmpty prepend=" " property="r3_order_header_id">R3_ORDER_HEADER_ID = #r3_order_header_id#</isNotEmpty>
		<isEmpty prepend=" " property="r3_order_header_id">
			<isNotEmpty prepend=" " property="map.pks">
				R3_ORDER_HEADER_ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteKonkaR3OrderHeader" parameterClass="KonkaR3OrderHeader">
		delete from KONKA_R3_ORDER_HEADER where
		<isNotEmpty prepend=" " property="r3_order_header_id">r3_order_header_id = #id#</isNotEmpty>
		<isEmpty prepend=" " property="r3_order_header_id">
			<isNotEmpty prepend=" " property="map.pks">
				R3_ORDER_HEADER_ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>

</sqlMap>