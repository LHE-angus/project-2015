<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

	<!-- Code by AutoGenerated Builder -->
	<!-- AutoGenerated Builder Version 2.1 -->
	<!-- @author Hui,Gang -->
	<!-- @datetime 2011-11-14 10:15:03 -->
<sqlMap namespace="TASK_PARA">
	
	<typeAlias alias="taskPara" type="com.ebiz.mmt.domain.TaskPara" />

	

	<resultMap id="taskParaResultForList" class="taskPara">
		<result column="ID" property="id" jdbcType="DECIMAL" />
		<result column="ADD_DATE" property="add_date" jdbcType="DATE" />
		<result column="ADD_UID" property="add_uid" jdbcType="DECIMAL" />
		<result column="YEAR" property="year" jdbcType="DECIMAL" />
		<result column="TASK_NAME" property="task_name" jdbcType="VARCHAR" />
		<result column="COLUMN_1" property="column_1" jdbcType="DECIMAL" />
		<result column="COLUMN_2" property="column_2" jdbcType="DECIMAL" />
		<result column="COLUMN_3" property="column_3" jdbcType="DECIMAL" />
		<result column="COLUMN_4" property="column_4" jdbcType="DECIMAL" />
		<result column="COLUMN_5" property="column_5" jdbcType="DECIMAL" />
		<result column="COLUMN_6" property="column_6" jdbcType="DECIMAL" />
		<result column="COLUMN_7" property="column_7" jdbcType="DECIMAL" />
		<result column="COLUMN_8" property="column_8" jdbcType="DECIMAL" />
		<result column="COLUMN_9" property="column_9" jdbcType="DECIMAL" />
		<result column="COLUMN_10" property="column_10" jdbcType="DECIMAL" />
		<result column="COLUMN_11" property="column_11" jdbcType="DECIMAL" />
		<result column="COLUMN_12" property="column_12" jdbcType="DECIMAL" />
		<result column="YEAR_TASK" property="year_task" jdbcType="DECIMAL" />
		<result column="YEAR_PARA" property="year_para" jdbcType="DECIMAL" />
		<result column="ORDER_VALUE" property="order_value" jdbcType="DECIMAL" />
	</resultMap>

	<resultMap id="taskParaResult" class="taskPara" extends="taskParaResultForList">
	</resultMap>
	
	<resultMap id="taskParaForYearMonth" class="taskPara" extends="taskParaResultForList">
		<result column="COLUMN_M" property="map.column_m" jdbcType="DECIMAL" />
		<result column="COLUMN_Y" property="map.column_y" jdbcType="DECIMAL" />
	</resultMap>

	<sql id="sf-taskPara">
		<isNotEmpty prepend=" and " property="id">ID = #id:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="add_date">ADD_DATE = #add_date:DATE#</isNotEmpty>
		<isNotEmpty prepend=" and " property="add_uid">ADD_UID = #add_uid:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="year">YEAR = #year:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="task_name">TASK_NAME = #task_name:VARCHAR#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_1">COLUMN_1 = #column_1:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_2">COLUMN_2 = #column_2:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_3">COLUMN_3 = #column_3:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_4">COLUMN_4 = #column_4:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_5">COLUMN_5 = #column_5:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_6">COLUMN_6 = #column_6:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_7">COLUMN_7 = #column_7:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_8">COLUMN_8 = #column_8:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_9">COLUMN_9 = #column_9:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_10">COLUMN_10 = #column_10:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_11">COLUMN_11 = #column_11:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="column_12">COLUMN_12 = #column_12:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="year_task">YEAR_TASK = #year_task:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="year_para">YEAR_PARA = #year_para:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="order_value">ORDER_VALUE = #order_value:DECIMAL#</isNotEmpty>
		<isNotEmpty prepend=" and " property="map.shop_name_String">$map.column_name$  in ($map.shop_name_String$)</isNotEmpty>
	</sql>
	
	

	<select id="selectTaskPara" resultMap="taskParaResult" parameterClass="taskPara" >
		select * from TASK_PARA where 1 = 1
		<include refid="sf-taskPara" />
	</select>

	<select id="selectTaskParaList" resultMap="taskParaForYearMonth" parameterClass="taskPara" >
		<isNotEmpty property="row.count">
			<![CDATA[ select * from ( ]]>
		</isNotEmpty>
		select a.*  
		<isNotEmpty prepend=" ," property="map.column_m">
             decode(column_$map.column_m$,null,0,column_$map.column_m$) as COLUMN_M,'0' as COLUMN_Y
          </isNotEmpty>
          <isNotEmpty prepend=" ," property="map.column_y">
             0 as COLUMN_M,$map.column_y$ as COLUMN_Y
          </isNotEmpty>
          from TASK_PARA a where 1 = 1
		
		<include refid="sf-taskPara" />
		<!-- order by ID asc -->
		<isNotEmpty property="row.count">
			<![CDATA[ ) where rownum <= #row.count# ]]>
		</isNotEmpty>
	</select>

	<select id="selectTaskParaCount" resultClass="long" parameterClass="taskPara" >
		select count(*) from TASK_PARA where 1 = 1
		<include refid="sf-taskPara" />
	</select>

	<select id="selectTaskParaPaginatedList" resultMap="taskParaResultForList" parameterClass="taskPara" >
		<![CDATA[ select * from ( select t_.*, rownum rn_ from ( ]]>
		select * from TASK_PARA where 1 = 1
		<include refid="sf-taskPara" />
		<!-- order by ID asc -->
		<![CDATA[ ) t_ where rownum <= (#row.first# + #row.count#)) where rn_ >= (#row.first# + 1) ]]>
	</select>

	<insert id="insertTaskPara" parameterClass="taskPara">
		<selectKey resultClass="long" keyProperty="id">select SEQ_TASK_PARA.nextval as id from dual</selectKey>
		<![CDATA[insert into TASK_PARA (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">ID</isNotNull>	
			<isNotNull prepend="," property="add_date">ADD_DATE</isNotNull>	
			<isNotNull prepend="," property="add_uid">ADD_UID</isNotNull>	
			<isNotNull prepend="," property="year">YEAR</isNotNull>	
			<isNotNull prepend="," property="task_name">TASK_NAME</isNotNull>	
			<isNotNull prepend="," property="column_1">COLUMN_1</isNotNull>	
			<isNotNull prepend="," property="column_2">COLUMN_2</isNotNull>	
			<isNotNull prepend="," property="column_3">COLUMN_3</isNotNull>	
			<isNotNull prepend="," property="column_4">COLUMN_4</isNotNull>	
			<isNotNull prepend="," property="column_5">COLUMN_5</isNotNull>	
			<isNotNull prepend="," property="column_6">COLUMN_6</isNotNull>	
			<isNotNull prepend="," property="column_7">COLUMN_7</isNotNull>	
			<isNotNull prepend="," property="column_8">COLUMN_8</isNotNull>	
			<isNotNull prepend="," property="column_9">COLUMN_9</isNotNull>	
			<isNotNull prepend="," property="column_10">COLUMN_10</isNotNull>	
			<isNotNull prepend="," property="column_11">COLUMN_11</isNotNull>	
			<isNotNull prepend="," property="column_12">COLUMN_12</isNotNull>	
			<isNotNull prepend="," property="year_task">YEAR_TASK</isNotNull>	
			<isNotNull prepend="," property="year_para">YEAR_PARA</isNotNull>	
			<isNotNull prepend="," property="order_value">ORDER_VALUE</isNotNull>	
		</dynamic>
		<![CDATA[) values (]]>
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">#id:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="add_date">#add_date:DATE#</isNotNull>	
			<isNotNull prepend="," property="add_uid">#add_uid:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="year">#year:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="task_name">#task_name:VARCHAR#</isNotNull>	
			<isNotNull prepend="," property="column_1">#column_1:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_2">#column_2:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_3">#column_3:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_4">#column_4:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_5">#column_5:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_6">#column_6:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_7">#column_7:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_8">#column_8:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_9">#column_9:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_10">#column_10:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_11">#column_11:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="column_12">#column_12:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="year_task">#year_task:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="year_para">#year_para:DECIMAL#</isNotNull>	
			<isNotNull prepend="," property="order_value">#order_value:DECIMAL#</isNotNull>	
		</dynamic>
		<![CDATA[)]]>
	</insert>

	<update id="updateTaskPara" parameterClass="taskPara">
		update TASK_PARA
		<dynamic prepend="set">
			<isNotNull prepend="," property="id">ID = #id:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="add_date">ADD_DATE = #add_date:DATE#</isNotNull>
			<isNotNull prepend="," property="add_uid">ADD_UID = #add_uid:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="year">YEAR = #year:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="task_name">TASK_NAME = #task_name:VARCHAR#</isNotNull>
			<isNotNull prepend="," property="column_1">COLUMN_1 = #column_1:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_2">COLUMN_2 = #column_2:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_3">COLUMN_3 = #column_3:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_4">COLUMN_4 = #column_4:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_5">COLUMN_5 = #column_5:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_6">COLUMN_6 = #column_6:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_7">COLUMN_7 = #column_7:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_8">COLUMN_8 = #column_8:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_9">COLUMN_9 = #column_9:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_10">COLUMN_10 = #column_10:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_11">COLUMN_11 = #column_11:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="column_12">COLUMN_12 = #column_12:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="year_task">YEAR_TASK = #year_task:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="year_para">YEAR_PARA = #year_para:DECIMAL#</isNotNull>
			<isNotNull prepend="," property="order_value">ORDER_VALUE = #order_value:DECIMAL#</isNotNull>
		</dynamic>
		where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</update>

	<delete id="deleteTaskPara" parameterClass="taskPara">
		delete from TASK_PARA where
		<isNotEmpty prepend=" " property="id">ID = #id#</isNotEmpty>
		<isEmpty prepend=" " property="id">
			<isNotEmpty prepend=" " property="map.pks">
				ID in
				<iterate close=")" open="(" conjunction="," property="map.pks">#map.pks[]#</iterate>
			</isNotEmpty>
		</isEmpty>
	</delete>

</sqlMap>